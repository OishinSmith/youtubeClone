{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Hero } from './hero';\nexport let HeroesComponent = class HeroesComponent {\n  constructor(heroService) {\n    this.heroService = heroService;\n    this.addingHero = false;\n    this.heroes = [];\n    this.selectedHero = new Hero();\n  }\n  ngOnInit() {\n    this.getHeroes();\n  }\n  cancel() {\n    this.addingHero = false;\n    this.selectedHero = new Hero();\n  }\n  deleteHero(hero) {\n    this.heroService.deleteHero(hero).subscribe(res => {\n      this.heroes = this.heroes.filter(h => h !== hero);\n      if (this.selectedHero === hero) {\n        this.selectedHero = new Hero();\n      }\n    });\n  }\n  getHeroes() {\n    return this.heroService.getHeroes().subscribe(heroes => {\n      this.heroes = heroes;\n    });\n  }\n  enableAddMode() {\n    this.addingHero = true;\n    this.selectedHero = new Hero();\n  }\n  onSelect(hero) {\n    this.addingHero = false;\n    this.selectedHero = hero;\n  }\n  save() {\n    if (this.addingHero) {\n      this.heroService.addHero(this.selectedHero).subscribe(hero => {\n        this.addingHero = false;\n        this.selectedHero = new Hero();\n        this.heroes.push(hero);\n      });\n    } else {\n      this.heroService.updateHero(this.selectedHero).subscribe(hero => {\n        this.addingHero = false;\n        this.selectedHero = new Hero();\n      });\n    }\n  }\n};\nHeroesComponent = __decorate([Component({\n  selector: 'app-heroes',\n  templateUrl: './heroes.component.html',\n  styleUrls: ['./heroes.component.css']\n})], HeroesComponent);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}